---
description: Запрет менять логику параметра описания блока (info) в generator.js
globs: generator.js
alwaysApply: false
---

# Параметр описания блока — не менять

При любых правках в проекте **не изменять** логику, связанную с параметром описания блока (блок `info` в .ubi).

## Что запрещено менять

1. **Функцию `escapeDescriptionForSixx`** — экранирование текста описания (в т.ч. запятые как `&#44;`). Не удалять и не заменять на другое экранирование.

2. **Значение `runs` в блоке info** — должно вычисляться как **длина строки описания после экранирования** (`descriptionEscaped.length`), а не константа (например, не подставлять 50 или другое фиксированное число).

3. **Структуру блока info** в XML:
   - `info` типа `Text` с полями `string` и `runs` (RunArray);
   - в RunArray: один элемент массива `runs` = длина строки описания (после `escapeDescriptionForSixx`);
   - строка описания в `string` — только через `escapeDescriptionForSixx(blockDescription)`.

Эти вещи нужны для корректного открытия описания в FLProg без зависаний. Изменения сюда вносить нельзя.
